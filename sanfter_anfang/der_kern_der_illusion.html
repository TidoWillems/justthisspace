<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8">
<title>Der Kern der Illusion – justthisspace</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Das Ich als Ursprung der Täuschung – eine poetische Auflösung des Zentrums, das nie existierte.">
<style>
:root{
  --paper:#faf8f2; --ink:#161616; --gray:#777;
}

/* Grundlayout */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:
    radial-gradient(800px 600px at 20% 15%, rgba(0,0,0,.06), transparent 60%),
    radial-gradient(900px 700px at 80% 10%, rgba(0,0,0,.05), transparent 60%),
    linear-gradient(var(--paper), var(--paper));
  color:var(--ink);
  font-family:"Courier New",ui-monospace,Menlo,Consolas,monospace;
  line-height:1.7; letter-spacing:.01em;
}

/* Header im JTS-Stil */
header{
  position:sticky;
  top:0;
  z-index:10;
  backdrop-filter:saturate(180%) blur(8px);
  -webkit-backdrop-filter:saturate(180%) blur(8px);
  background:color-mix(in oklch, var(--paper) 82%, #ffffff);
  border-bottom:1px solid rgba(0,0,0,0.06);
}
.wrap{
  max-width: 880px;
  margin: 0 auto;
  padding: 0.5rem 1rem;
}
.row{
  display:flex;
  gap:.75rem;
  align-items:center;
  flex-wrap:wrap;
}
.spacer{flex:1 1 auto;}
.title-head{
  font-size:clamp(1.0rem, 0.9rem + 1.2vw, 1.6rem);
  margin:0.05rem 0;
  letter-spacing:0.12em;
  text-transform:uppercase;
}
label.muted{
  color:var(--gray);
  font-size:.9rem;
}

/* JTS-Chip wie auf den anderen Seiten */
.chip {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: .45rem;
  padding: .28rem .9rem;
  border-radius: 999px;
  font-size: .9rem;
  cursor: pointer;
  isolation: isolate;
  position: relative;
  text-decoration: none;
  background: radial-gradient(circle at 30% 30%,
              #f8e4b7 0%, #ddb266 45%, #b28b47 100%);
  color: #fff;
  border: 1px solid rgba(178,139,71,0.35);
  box-shadow:
    0 3px 8px rgba(0,0,0,0.18),
    0 0 0 1px rgba(178,139,71,0.35);
  transition:
    background .35s ease,
    box-shadow .35s ease,
    transform .25s ease,
    opacity .25s ease;
  opacity: 0;
  animation: chipFadeIn 1.1s ease-out forwards;
}
.chip::before {
  content: "";
  position: absolute;
  inset: -10px;
  border-radius: 999px;
  z-index: -1;
  background: radial-gradient(
    circle,
    rgba(178,139,71,0.70) 0%,
    rgba(178,139,71,0.35) 35%,
    rgba(178,139,71,0.10) 65%,
    transparent 100%
  );
  filter: blur(8px);
  opacity: 0.85;
  animation: haloPulseChip 5s ease-in-out infinite;
}
@keyframes haloPulseChip {
  0%, 100% { transform: scale(0.9); opacity: 0.6; }
  50% { transform: scale(1.12); opacity: 1; }
}
@keyframes chipFadeIn {
  from { opacity: 0; transform: translateY(-4px) scale(0.96); }
  to   { opacity: 1; transform: translateY(0) scale(1); }
}
.chip:hover {
  background: radial-gradient(circle at 30% 30%,
              #fbe9bf 0%, #e0b96f 40%, #c0924d 100%);
  box-shadow:
    0 4px 12px rgba(0,0,0,0.22),
    0 0 0 1px rgba(178,139,71,0.5);
}
.chip:active { transform: scale(0.97); }
.chip:active::before { transform: scale(1.18); opacity: 1; }

select{
  appearance:none;
  border:1px solid #d8d0c5;
  background:rgba(255,255,255,0.9);
  color:var(--ink);
  border-radius:12px;
  padding:.45rem .9rem;
  font-size:.9rem;
  font-family:system-ui,-apple-system,"Segoe UI",sans-serif;
}
select:focus{
  outline:2px solid #b28b47;
  outline-offset:1px;
}

/* Darkmode für Header/Chip/Select */
@media (prefers-color-scheme: dark){
  body{
    background:
      radial-gradient(800px 600px at 20% 15%, rgba(255,255,255,.06), transparent 60%),
      radial-gradient(900px 700px at 80% 10%, rgba(255,255,255,.05), transparent 60%),
      linear-gradient(#11100e, #151310);
    color:#f3f3f3;
  }
  header{
    background:color-mix(in oklch, #151310 80%, #000);
    border-bottom-color:rgba(255,255,255,0.04);
  }
  .chip{
    background: radial-gradient(circle at 30% 30%,
                #252525 0%, #181818 45%, #000 100%);
    border-color: rgba(212,181,115,0.35);
    color: #d4b573;
  }
  .chip::before{
    background: radial-gradient(
      circle,
      rgba(212,181,115,0.85) 0%,
      rgba(212,181,115,0.45) 35%,
      rgba(212,181,115,0.16) 65%,
      transparent 100%
    );
    filter: blur(10px);
  }
  .chip:hover{
    background: radial-gradient(circle at 30% 30%,
                #353535 0%, #202020 45%, #050505 100%);
  }
  select{
    background:rgba(10,10,10,0.9);
    border-color:#34302a;
    color:#f3f3f3;
  }
}

/* Bewegungsreduktion */
@media (prefers-reduced-motion: reduce){
  .chip{animation:none;}
  .chip::before{animation:none;}
}

/* Blatt / Schreibmaschinen-Optik */
.sheet{
  max-width:780px; margin:3.7rem auto 3.5rem;
  background:rgba(255,255,255,.78);
  padding:3rem 2rem 2.5rem;
  box-shadow:0 18px 45px rgba(0,0,0,.22);
  position:relative;
}
.sheet:before{
  content:""; position:absolute; left:0; right:0; top:-14px; height:14px;
  background:radial-gradient(circle at 30px 7px,#bbb 2px,transparent 3px) repeat-x;
  background-size:60px 14px;
}
.stamp{
  display:inline-block; font-weight:700; letter-spacing:.08em;
  border:2px solid #222; padding:.25rem .6rem;
  transform:rotate(-1.2deg); box-shadow:2px 2px 0 rgba(0,0,0,.35);
  margin-bottom:1rem;
}
h1{font-size:1.3rem; margin:.3rem 0 1.2rem; text-transform:uppercase; letter-spacing:.12em;}
p{margin:.9rem 0; font-size:1.02rem}
.ink{text-shadow:0.4px 0 rgba(0,0,0,.6), -0.2px 0 rgba(0,0,0,.25);}
.rule{margin:1.8rem 0; height:2px; border:none;
  background:repeating-linear-gradient(90deg,#222,#222 14px,transparent 14px,transparent 20px); opacity:.6;}
.bar{display:inline-block; background:#111; color:#fff; padding:.35rem .6rem;
  letter-spacing:.04em; box-shadow:2px 2px 0 rgba(0,0,0,.35); transform:rotate(0.6deg);}
footer{margin-top:2rem; font-size:.95rem; letter-spacing:.04em;
  display:flex; justify-content:center; gap:.6rem; align-items:center;}

@media (prefers-color-scheme: dark){
  .sheet{
    background:rgba(12,12,10,0.86);
    box-shadow:0 18px 45px rgba(0,0,0,.6);
  }
  .stamp{
    border-color:#f3f3f3;
    box-shadow:2px 2px 0 rgba(0,0,0,.75);
  }
  .bar{
    background:#f7f7f7;
    color:#111;
  }
}

/* Mobile */
@media (max-width: 640px){
  .wrap{padding:0.45rem 0.75rem;}
  .sheet{
    margin:3.1rem 0.75rem 3rem;
    padding:2.2rem 1.4rem 2.2rem;
  }
}
</style>
</head>
<body>

<header>
  <div class="wrap row">
    <div class="row" aria-label="Brand">
      <a href="../index.html"
         class="chip"
         id="chipHome"
         aria-label="Zur Startseite justthisspace">
        JTS
      </a>
      <strong class="title-head" id="headerTitle">der kern der illusion</strong>
    </div>
    <div class="spacer"></div>
    <div class="row" aria-label="Language controls">
      <label for="lang" class="muted" id="langLabel">Sprache</label>
      <select id="lang" aria-label="Sprache wählen">
        <option value="de">Deutsch</option>
        <option value="en">English</option>
        <option value="fr">Français</option>
      </select>
    </div>
  </div>
</header>

<main>
  <div class="sheet">
    <div class="stamp ink" id="stampBrand">justthisspace</div>
    <h1 class="ink" id="pageTitle">der kern der illusion</h1>

    <!-- Fallback-Inhalt, falls JS deaktiviert oder fehlerhaft ist -->
    <div id="content" class="ink">
      <p>Man sagt: „Ich bin.“ Und schon ist das Universum geboren.</p>
      <p>Ein Laut, drei Buchstaben – <em>ich</em>. Ein winziger Gedanke, der sich für den Denker hält.</p>
      <p>So entsteht die Welt: nicht durch Materie, sondern durch Bedeutung. Durch die Annahme, dass etwas jemanden betrifft.</p>
      <hr class="rule">
      <p>Doch niemand spricht diesen Satz. Niemand hört ihn. Er geschieht – wie Wind auf Wasser.</p>
      <p>Das „Ich“ ist der erste Mythos. Ein Spiegel, der sich selbst betrachtet und glaubt, er sei Auge.</p>
      <p>Aus diesem Spiegel brechen alle weiteren Formen hervor: Gott und Mensch, Zeit und Tod, Schuld und Hoffnung. Doch sie alle zeigen nur die Oberfläche derselben Stille.</p>
      <hr class="rule">
      <p>Wenn das Zentrum fällt, bleibt nichts verloren – denn nichts war je fest.</p>
      <span class="bar ink">Es gibt keinen, der erwacht. Nur Erwachen.</span>
    </div>

    <noscript>
      <p class="ink">
        (Hinweis: Die Sprachauswahl ist ohne JavaScript nicht aktiv. Es wird nur die deutsche Version angezeigt.)
      </p>
    </noscript>

    <footer class="ink" id="foot">
      © justthisspace — keine Person, kein Anfang, kein Ende.
    </footer>
  </div>
</main>

<script>
// Übersetzungen
const T = {
  de: {
    brand: "JTS",
    headerTitle: "der kern der illusion",
    title: "der kern der illusion",
    langLabel: "Sprache",
    stamp: "justthisspace",
    foot: "© justthisspace — keine Person, kein Anfang, kein Ende.",
    blocks: [
      "Man sagt: „Ich bin.“ Und schon ist das Universum geboren.",
      "Ein Laut, drei Buchstaben – <em>ich</em>. Ein winziger Gedanke, der sich für den Denker hält.",
      "So entsteht die Welt: nicht durch Materie, sondern durch Bedeutung. Durch die Annahme, dass etwas jemanden betrifft.",
      '<hr class="rule">',
      "Doch niemand spricht diesen Satz. Niemand hört ihn. Er geschieht – wie Wind auf Wasser.",
      "Das „Ich“ ist der erste Mythos. Ein Spiegel, der sich selbst betrachtet und glaubt, er sei Auge.",
      "Aus diesem Spiegel brechen alle weiteren Formen hervor: Gott und Mensch, Zeit und Tod, Schuld und Hoffnung. Doch sie alle zeigen nur die Oberfläche derselben Stille.",
      '<hr class="rule">',
      "Wenn das Zentrum fällt, bleibt nichts verloren – denn nichts war je fest.",
      '<span class="bar ink">Es gibt keinen, der erwacht. Nur Erwachen.</span>'
    ]
  },
  en: {
    brand: "JTS",
    headerTitle: "the core of the illusion",
    title: "the core of the illusion",
    langLabel: "Language",
    stamp: "justthisspace",
    foot: "© justthisspace — no person, no beginning, no end.",
    blocks: [
      "One says: “I am.” And already the universe is born.",
      "A single sound, one letter – <em>I</em>. A tiny thought that takes itself to be the thinker.",
      "Thus the world arises: not from matter, but from meaning. From the assumption that something concerns someone.",
      '<hr class="rule">',
      "Yet no one speaks this sentence. No one hears it. It happens – like wind on water.",
      "“I” is the first myth. A mirror looking at itself and believing it is an eye.",
      "From this mirror all further forms break forth: god and human, time and death, guilt and hope. Yet all of them show only the surface of the same stillness.",
      '<hr class="rule">',
      "When the center falls, nothing is lost – because nothing was ever solid.",
      '<span class="bar ink">There is no one who awakens. Only awakening.</span>'
    ]
  },
  fr: {
    brand: "JTS",
    headerTitle: "le noyau de l’illusion",
    title: "le noyau de l’illusion",
    langLabel: "Langue",
    stamp: "justthisspace",
    foot: "© justthisspace — aucune personne, aucun début, aucune fin.",
    blocks: [
      "On dit&nbsp;: «&nbsp;Je suis&nbsp;». Et déjà l’univers naît.",
      "Un seul son, deux lettres – <em>je</em>. Une petite pensée qui se prend pour la penseuse.",
      "Le monde ne naît pas de la matière mais du sens. De la supposition que quelque chose concerne quelqu’un.",
      '<hr class="rule">',
      "Pourtant, personne ne prononce cette phrase. Personne ne l’entend. Elle se produit – comme le vent sur l’eau.",
      "Le «&nbsp;je&nbsp;» est le premier mythe. Un miroir qui se regarde lui-même et croit être un œil.",
      "De ce miroir jaillissent toutes les autres formes&nbsp;: dieu et humain, temps et mort, culpabilité et espoir. Mais toutes ne montrent que la surface du même silence.",
      '<hr class="rule">',
      "Quand le centre tombe, rien n’est perdu – car rien n’a jamais été solide.",
      '<span class="bar ink">Il n’y a personne qui s’éveille. Il n’y a que l’éveil.</span>'
    ]
  }
};

// kleines Hilfsalias für querySelector
const $ = sel => document.querySelector(sel);

const el = {
  headerTitle: $('#headerTitle'),
  stamp: $('#stampBrand'),
  pageTitle: $('#pageTitle'),
  label: $('#langLabel'),
  select: $('#lang'),
  content: $('#content'),
  foot: $('#foot'),
  chip: $('#chipHome')
};

// Safe-Wrapper für localStorage
function getStoredLang() {
  try {
    if (typeof window !== 'undefined' && window.localStorage) {
      return localStorage.getItem('jts-i18n-lang');
    }
  } catch (e) {
    // Storage geblockt – ignorieren
  }
  return null;
}

function storeLang(lang) {
  try {
    if (typeof window !== 'undefined' && window.localStorage) {
      localStorage.setItem('jts-i18n-lang', lang);
    }
  } catch (e) {
    // nichts tun, wenn geblockt
  }
}

// Navigator-Sprache robust lesen
function getNavigatorLang() {
  try {
    if (typeof navigator !== 'undefined' && typeof navigator.language === 'string') {
      return navigator.language.slice(0, 2);
    }
  } catch (e) {
    // ignorieren
  }
  return 'de';
}

// Render-Funktion
function render(lang) {
  const t = T[lang] || T.de;

  // Wenn wesentliche Elemente fehlen, nichts tun (Fallback bleibt sichtbar)
  if (!el.headerTitle || !el.pageTitle || !el.stamp || !el.label ||
      !el.foot || !el.chip || !el.content) {
    return;
  }

  document.documentElement.lang = lang;

  el.headerTitle.textContent = t.headerTitle;
  el.pageTitle.textContent = t.title;
  el.label.textContent = t.langLabel;
  el.stamp.textContent = t.stamp;
  el.foot.textContent = t.foot;
  el.chip.textContent = t.brand;

  // Blöcke rendern – HTML direkt erlauben (für <em>, <hr>, <span class="bar"> etc.)
  const html = t.blocks.map(block => {
    const trimmed = (block || '').trim();
    // Wenn Block wie ein HTML-Tag beginnt, direkt einfügen
    if (/^<\w+/.test(trimmed)) {
      return trimmed;
    }
    // sonst normaler Absatz
    return '<p class="ink">' + block + '</p>';
  }).join('');

  el.content.innerHTML = html;

  storeLang(lang);
}

// Initialisierung in IIFE gekapselt
(function initI18N() {
  if (!el.select || !el.content) {
    // Wenn kein Select oder Content, bleibt der Fallback-Text einfach stehen
    return;
  }

  const stored = getStoredLang();
  const navLang = getNavigatorLang();

  const candidate = stored || navLang || 'de';
  const supported = ['de','en','fr'];
  const initialLang = supported.includes(candidate) ? candidate : 'de';

  // Select-Value setzen, wenn Option existiert
  if (supported.includes(initialLang)) {
    el.select.value = initialLang;
  } else {
    el.select.value = 'de';
  }

  render(el.select.value);

  el.select.addEventListener('change', function(e) {
    render(e.target.value);
  });
})();
</script>

</body>
</html>
