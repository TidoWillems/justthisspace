<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Resonanz-Diptychon: Himmel & Mauer ‚Äì justthisspace</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="generator" content="genug-prerender">
  <meta name="description" content="Eine stille, interaktive Installation: Der Friede, der jeglichen Verstand √ºbersteigt ‚Äì Himmel und Mauer im Resonanzdialog.">
  <link rel="preload" as="image" href="./img/himmel.jpg">
  <link rel="preload" as="image" href="./img/mauer.png">
  <style>
    :root {
      --bg:#fdfdfd;
      --fg:#222;
      --muted:#666;
      --card:#ffffff;
      --shadow:0 6px 30px rgba(0,0,0,.08);

      --paper:#f9f7f3;
      --paper-edge:#ece7df;
      --paper-ink:#2b2b2b;
      --paper-muted:#6d6a66;
    }
    * { box-sizing: border-box }

    html,body{height:100%}

    body {
      margin:0;
      background:var(--bg);
      color:var(--fg);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      text-rendering: optimizeLegibility;
      -webkit-font-smoothing: antialiased;
      font-feature-settings: "liga","kern","onum","pnum";
    }

    /* Header im JTS-Stil */
    header{
      position:sticky;
      top:0;
      z-index:20;
      backdrop-filter:saturate(180%) blur(10px);
      -webkit-backdrop-filter:saturate(180%) blur(10px);
      background:color-mix(in oklch, #fdfdfd 86%, #ffffff);
      border-bottom:1px solid rgba(0,0,0,0.04);
    }
    .wrap{
      max-width:1100px;
      margin:0 auto;
      padding:0.55rem 1rem;
    }
    .row{
      display:flex;
      gap:.75rem;
      align-items:center;
      flex-wrap:wrap;
    }
    .spacer{flex:1 1 auto;}
    .title-head{
      font-size:clamp(1.0rem,0.9rem + 1.1vw,1.6rem);
      margin:0.05rem 0;
      letter-spacing:0.18em;
      text-transform:uppercase;
      color:var(--fg);
    }
    label.muted{
      color:var(--muted);
      font-size:.9rem;
    }

    /* JTS-Chip */
    .chip {
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:.45rem;
      padding:.28rem .9rem;
      border-radius:999px;
      font-size:.9rem;
      cursor:pointer;
      isolation:isolate;
      position:relative;
      text-decoration:none;
      background:radial-gradient(circle at 30% 30%,
                #f8e4b7 0%, #ddb266 45%, #b28b47 100%);
      color:#fff;
      border:1px solid rgba(178,139,71,0.35);
      box-shadow:
        0 3px 8px rgba(0,0,0,0.24),
        0 0 0 1px rgba(178,139,71,0.35);
      transition:
        background .35s ease,
        box-shadow .35s ease,
        transform .25s ease,
        opacity .25s ease;
      opacity:0;
      animation:chipFadeIn 1.1s ease-out forwards;
    }
    .chip::before{
      content:"";
      position:absolute;
      inset:-10px;
      border-radius:999px;
      z-index:-1;
      background:radial-gradient(
        circle,
        rgba(178,139,71,0.70) 0%,
        rgba(178,139,71,0.35) 35%,
        rgba(178,139,71,0.10) 65%,
        transparent 100%
      );
      filter:blur(8px);
      opacity:0.85;
      animation:haloPulseChip 5s ease-in-out infinite;
    }
    @keyframes haloPulseChip{
      0%,100%{transform:scale(0.9);opacity:0.6;}
      50%{transform:scale(1.12);opacity:1;}
    }
    @keyframes chipFadeIn{
      from{opacity:0;transform:translateY(-4px) scale(0.96);}
      to{opacity:1;transform:translateY(0) scale(1);}
    }
    .chip:hover{
      background:radial-gradient(circle at 30% 30%,
                #fbe9bf 0%, #e0b96f 40%, #c0924d 100%);
      box-shadow:
        0 4px 12px rgba(0,0,0,0.26),
        0 0 0 1px rgba(178,139,71,0.5);
    }
    .chip:active{transform:scale(0.97);}
    .chip:active::before{transform:scale(1.18);opacity:1;}

    select{
      appearance:none;
      border:1px solid rgba(148,163,184,0.4);
      background:#ffffff;
      color:var(--fg);
      border-radius:12px;
      padding:.45rem .9rem;
      font-size:.9rem;
      font-family:system-ui,-apple-system,"Segoe UI",sans-serif;
    }
    select:focus{
      outline:2px solid #b28b47;
      outline-offset:1px;
    }

    @media (prefers-reduced-motion: reduce){
      .chip{animation:none;}
      .chip::before{animation:none;}
    }

    main {
      max-width: 1100px;
      margin: 0 auto;
      padding: 1.6rem 1rem 4rem;
    }

    .mt-6 { margin-top:1.5rem; }

    nav.breadcrumbs {
      font-size:.9rem;
      margin:.2rem 0 1.5rem;
      color:var(--muted);
    }
    a { color:#006688; text-decoration:none }
    a:hover{ text-decoration:underline }

    .hero { display:grid; gap:1rem; margin-bottom:1.5rem }
    .title { line-height:1.15; margin:0; font-weight:700; font-size:clamp(1.6rem, 2.6vw + 1rem, 2.6rem) }
    .subtitle { color:var(--muted); margin:.25rem 0 0 }

    .card { background:var(--card); border-radius:16px; box-shadow:var(--shadow); overflow:hidden }
    .pad { padding:1rem 1.2rem }

    /* Slider */
    .stage {
      position:relative;
      width:100%;
      aspect-ratio: 16 / 9;
      background:#e9eef2;
      user-select:none;
      touch-action:none;
      cursor:ew-resize;
    }
    .img-base, .img-top {
      position:absolute;
      inset:0;
      background-position:center;
      background-size:cover;
    }
    /* Links = Himmel, Rechts = Mauer */
    .img-base { background-image:url("./img/himmel.jpg"); }
    .img-top  { background-image:url("./img/mauer.png"); clip-path: inset(0 50% 0 0); transition: clip-path .25s ease }

    .handle {
      position:absolute; top:0; bottom:0;
      left:50%; width:2px;
      background:rgba(255,255,255,.9);
      box-shadow:0 0 0 1px rgba(0,0,0,.1) inset;
    }
    .knob {
      position:absolute;
      left:50%; top:50%;
      transform:translate(-50%,-50%);
      width:42px; height:42px;
      border-radius:50%;
      background:rgba(255,255,255,.95);
      box-shadow:0 6px 20px rgba(0,0,0,.18);
      display:grid; place-items:center;
    }
    .knob svg { width:22px; height:22px; opacity:.7 }

    .controls { display:flex; gap:.75rem; align-items:center; flex-wrap:wrap; font-size:.95rem }
    .spacer { flex:1 1 auto }
    .pill { display:inline-flex; align-items:center; gap:.5rem; padding:.4rem .7rem; border-radius:999px; background:#f2f5f7; }
    .range { width:min(420px, 70vw) }
    .muted { color:var(--muted) }

    .quote { font-style:italic; line-height:1.5; }
    .quote b { font-style:normal }
    .small { font-size:.92rem; color:var(--muted) }

    @media (max-width: 640px){
      .controls { gap:.5rem }
      .pill { width:100%; justify-content:space-between }
      main { padding:1.4rem 0.8rem 3rem; }
      .title { font-size: 1.9rem; }
      .subtitle { font-size: .95rem; }
    }

    /* Beiblatt: Optik "Pergament hinter Glas" */
    .beiblatt {
      background: radial-gradient(140% 100% at 50% 0%, #fbfaf7 0%, var(--paper) 60%, #f6f3ed 100%);
      border: 1px solid var(--paper-edge);
      color: var(--paper-ink);
      box-shadow:
        0 10px 30px rgba(0,0,0,.06),
        inset 0 1px 0 rgba(255,255,255,.6);
      position: relative;
      overflow: hidden;
    }

    .beiblatt summary {
      list-style: none;
      outline: none;
    }
    .beiblatt summary::-webkit-details-marker { display: none; }

    .beiblatt .sum {
      display:flex; align-items:center; gap:.6rem;
      cursor:pointer; font-weight:600; font-size:1.05rem;
    }
    .beiblatt .caret {
      width:18px; height:18px; flex:0 0 18px;
      transition: transform .25s ease;
      opacity:.8;
    }
    .beiblatt[open] .caret { transform: rotate(90deg); }

    .beiblatt .body { margin-top: .75rem; line-height:1.65; font-size: .96rem; }
    .beiblatt .body p { margin:.5rem 0; }
    .beiblatt .body blockquote {
      margin: .9rem 0; padding-left: .9rem; border-left: 3px solid #e1dbd0; color: var(--paper-muted);
    }

    .beiblatt table {
      width:100%; border-collapse: collapse; margin:.5rem 0 1rem;
      border: 1px solid #efeae1; background: #fffdfa;
    }
    .beiblatt thead th {
      background: #f5efe6; color:#3a3937; font-weight:600;
      padding: 6px 10px; border-bottom:1px solid #ece3d8;
    }
    .beiblatt td {
      padding: 6px 10px; border-top: 1px solid #f0e8de; vertical-align: top;
    }

    @media (max-width: 640px) {
      .beiblatt .body { font-size: .94rem; line-height: 1.58; }

      .beiblatt table,
      .beiblatt th,
      .beiblatt td {
        display:block;
        width:100%;
      }
      .beiblatt thead { display:none; }
      .beiblatt td {
        border: none;
        border-bottom: 1px solid #eee7dc;
        padding: .4rem 0;
      }
      .beiblatt td::before {
        content: attr(data-label);
        display:block;
        font-weight:600;
        color:var(--paper-muted);
        margin-bottom:.15rem;
      }
    }

    .beiblatt::before {
      content:"";
      position:absolute;
      inset:0;
      pointer-events:none;
      background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQIW2NkYGD4DwAB/wF/zs1kHgAAAABJRU5ErkJggg==");
      opacity:.35;
      mix-blend-mode: multiply;
    }

    .lang-note{
      font-size:.82rem;
      color:var(--paper-muted);
      margin-top:.35rem;
    }
  </style>
</head>
<body>

<header>
  <div class="wrap row">
    <div class="row" aria-label="Brand">
      <a href="../../index.html"
         class="chip"
         id="chipHome"
         aria-label="Zur Startseite justthisspace">
        JTS
      </a>
      <strong class="title-head" id="headerTitle">resonanz-diptychon</strong>
    </div>
    <div class="spacer"></div>
    <div class="row" aria-label="Language controls">
      <label for="lang" class="muted" id="langLabel">Sprache</label>
      <select id="lang" aria-label="Sprache w√§hlen">
        <option value="de">Deutsch</option>
        <option value="en">English</option>
        <option value="fr">Fran√ßais</option>
      </select>
    </div>
  </div>
</header>

<main>
  <nav class="breadcrumbs"><a href="/genug/">/genug</a> ¬∑ <a href="/genug/ausdruck/">/ausdruck</a></nav>

  <header class="hero">
    <h1 class="title" id="pageTitle">Resonanz-Diptychon</h1>
    <p class="subtitle" id="subtitle">Himmel (Ganzheit) &amp; Mauer (Verdichtung) ‚Äì ein stilles Gespr√§ch.</p>
  </header>

  <section class="card">
    <div id="stage" class="stage" role="group" aria-label="Interaktiver Bild-Slider">
      <div class="img-base" aria-hidden="true"></div>
      <div id="imgTop" class="img-top" aria-hidden="true"></div>
      <div id="handle" class="handle" aria-hidden="true"></div>
      <div class="knob" aria-hidden="true">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path stroke-width="2" d="M8 12H3m18 0h-5M10 7l4 5-4 5"/>
        </svg>
      </div>
    </div>

    <div class="pad">
      <div class="controls">
        <label class="pill">
          <span id="sliderLabel">√úberblendung</span>
          <input id="range" class="range" type="range" min="0" max="100" value="50" aria-label="√úberblendung Himmel/Mauer">
        </label>

        <label class="pill">
          <input id="auto" type="checkbox" aria-label="Automatische Atmung">
          <span id="autoLabel">Auto-Atmung</span>
        </label>

        <div class="spacer"></div>
        <span class="muted" id="sliderHint">Links: Himmel ‚Äì Rechts: Mauer</span>
      </div>
    </div>
  </section>

  <section class="card pad" style="margin-top:1rem">
    <p class="quote" id="quoteLine">
      ‚Äû<b>Der Friede, der jeglichen Verstand √ºbersteigt</b>, ist insubstanziell und ganz.
      Nur Sprache schafft Trennung ‚Äì f√ºr <b>Niemanden</b>.‚Äú
    </p>
    <p class="small" id="smallLine">
      Lesart: Die Mauer zeigt die verdichtete Welt der Begriffe; der Himmel zeigt den bedingungslosen Raum.
      Die Hand am Regler ist die Aufmerksamkeit, die beide ohne Urteil h√§lt.
    </p>
  </section>

  <section class="pad" style="opacity:.9">
    <details>
      <summary id="summaryConcept">Konzept &amp; Credits</summary>
      <p id="summaryText">
        Bild-Dialog nach deinem Text ‚ÄûKein Konstrukt‚Äú. Gestaltung: Diptychon mit Slider &amp; Auto-Atmung.
        Technik: Vanilla JS, keine externen Libraries.
      </p>
    </details>
  </section>

  <section class="card pad mt-6 beiblatt">
    <details>
      <summary class="sum">
        <svg class="caret" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
          <path stroke-width="2" d="M8 5l8 7-8 7"/>
        </svg>
        <span id="beiblattTitle">üé® K√ºnstlerischer Einklang: Die Mauer und der Friede</span>
      </summary>

      <article class="body">
        <p class="lang-note" id="langNote">
          Ausf√ºhrliche Beschreibung derzeit auf Deutsch.
        </p>

        <p><strong>Die visuellen Werke:</strong></p>
        <ol>
          <li><strong>Das Abstrakte Gem√§lde (Bild 2):</strong> Rote, rostige Textur, dunkle Spritzer, gespannte F√§den.</li>
          <li><strong>Der D√§mmerungshimmel (Bild 1):</strong> Sanfte Blau-, Violett- und Pfirsicht√∂ne, glatte Weite.</li>
        </ol>

        <blockquote>‚ÄûDer Friede, der jeglichen Verstand √ºbersteigt, ist insubstanziell und ganz. Nur Sprache schafft Trennung f√ºr ‚ÄöNiemanden‚Äò.‚Äú</blockquote>

        <h3>üáµüá∏ I. Die Begrenzung ‚Äì Das Ergebnis des Gedankens</h3>
        <p>Das abstrakte Gem√§lde (Bild 2) wird zur Metapher f√ºr die konditionierte, leidvolle Welt, die durch Denken und Sprache konstruiert wird.</p>

        <table>
          <thead>
            <tr>
              <th>Visuelles Element</th>
              <th>Metaphorische Bedeutung</th>
              <th>Der Gedanke als Konflikt</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td data-label="Visuelles Element">Rote, rostige Wand</td>
              <td data-label="Metaphorische Bedeutung">Physische Blockade, Krieg, Verfall.</td>
              <td data-label="Der Gedanke als Konflikt">Manifestation ideologischer Trennung.</td>
            </tr>
            <tr>
              <td data-label="Visuelles Element">Dunkle Spritzer &amp; F√§den</td>
              <td data-label="Metaphorische Bedeutung">Wunden, Chaos, Spannung.</td>
              <td data-label="Der Gedanke als Konflikt">Begrenzte Dimension des Verstandes.</td>
            </tr>
          </tbody>
        </table>

        <h3>üåå II. Die Ganzheit ‚Äì Der bedingungslose Raum</h3>
        <p>Der Himmel (Bild 1) repr√§sentiert die nat√ºrliche Wirklichkeit ‚Äì unber√ºhrt, stabil und umfassend.</p>

        <table>
          <thead>
            <tr>
              <th>Philosophische Aussage</th>
              <th>Visuelle Entsprechung</th>
              <th>Die Ganzheit als Friede</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td data-label="Philosophische Aussage">‚ÄûDie nat√ºrliche Wirklichkeit ist bereits stimmig und ganz.‚Äú</td>
              <td data-label="Visuelle Entsprechung">Glatte, unendliche Weite des Himmels.</td>
              <td data-label="Die Ganzheit als Friede">Stabilit√§t des Seins ‚Äì unversehrt trotz Katastrophen.</td>
            </tr>
            <tr>
              <td data-label="Philosophische Aussage">‚ÄûDer Friede ist insubstanziell.‚Äú</td>
              <td data-label="Visuelle Entsprechung">Zarte Pastellt√∂ne.</td>
              <td data-label="Die Ganzheit als Friede">Bedingungsloser Raum ‚Äì erscheint, wenn der Verstand ruht.</td>
            </tr>
          </tbody>
        </table>

        <h3>üïäÔ∏è III. Der stimmige Einklang ‚Äì Die Illusion der Trennung</h3>
        <p>Das Zitat bildet die Br√ºcke zwischen beiden Bildern. Die Harmonie liegt in der simultanen Wahrheit ‚Äì Trennung als Schein, Einheit als Wirklichkeit. Wenn die Sprache pausiert, bleibt nur das Ganze ‚Äì der bedingungslose Friede.</p>
      </article>
    </details>
  </section>
</main>

<script>
  // Slider-Logik
  (function(){
    const stage  = document.getElementById('stage');
    const imgTop = document.getElementById('imgTop');
    const handle = document.getElementById('handle');
    const range  = document.getElementById('range');
    const auto   = document.getElementById('auto');
    const knob   = document.querySelector('.knob');

    let w = 0, h = 0, autoId = null, t0 = 0;

    function layout(){
      const r = stage.getBoundingClientRect();
      w = r.width; h = r.height;
      setSplit(range.valueAsNumber / 100);
    }

    function setSplit(p){
      p = Math.max(0, Math.min(1, p));
      const right = (1 - p) * 100;
      imgTop.style.clipPath = 'inset(0 ' + right + '% 0 0)';
      const x = p * w;
      handle.style.left = x + 'px';
      knob.style.left   = x + 'px';
    }

    function fromEvent(e){
      const rect = stage.getBoundingClientRect();
      const clientX = e.touches ? e.touches[0].clientX : e.clientX;
      const x = clientX - rect.left;
      const p = x / w;
      range.value = Math.round(Math.max(0, Math.min(1, p)) * 100);
      setSplit(p);
    }

    let dragging = false;
    stage.addEventListener('mousedown', e => { dragging = true; fromEvent(e); });
    stage.addEventListener('touchstart', e => { dragging = true; fromEvent(e); }, {passive:true});
    window.addEventListener('mousemove', e => dragging && fromEvent(e));
    window.addEventListener('touchmove', e => dragging && fromEvent(e), {passive:true});
    window.addEventListener('mouseup',   () => dragging = false);
    window.addEventListener('touchend',  () => dragging = false);

    range.addEventListener('input', () => setSplit(range.valueAsNumber / 100));

    function tick(ts){
      if (!t0) t0 = ts;
      const t = (ts - t0) / 1000;
      const p = 0.5 + 0.45 * Math.sin(t * 0.5); // langsamer Atem
      range.value = Math.round(p * 100);
      setSplit(p);
      autoId = requestAnimationFrame(tick);
    }

    auto.addEventListener('change', () => {
      if (auto.checked){
        cancelAnimationFrame(autoId);
        t0 = 0;
        autoId = requestAnimationFrame(tick);
      } else {
        cancelAnimationFrame(autoId);
        autoId = null;
      }
    });

    window.addEventListener('resize', layout);
    layout();
  })();

  // I18N-Logik (√§hnlich wie sanfter_anfang)
  const T = {
    de: {
      brand: "JTS",
      headerTitle: "resonanz-diptychon",
      title: "Resonanz-Diptychon",
      subtitle: "Himmel (Ganzheit) & Mauer (Verdichtung) ‚Äì ein stilles Gespr√§ch.",
      langLabel: "Sprache",
      sliderLabel: "√úberblendung",
      autoLabel: "Auto-Atmung",
      sliderHint: "Links: Himmel ‚Äì Rechts: Mauer",
      quote: "‚ÄûDer Friede, der jeglichen Verstand √ºbersteigt, ist insubstanziell und ganz. Nur Sprache schafft Trennung ‚Äì f√ºr Niemanden.‚Äú",
      small: "Lesart: Die Mauer zeigt die verdichtete Welt der Begriffe; der Himmel zeigt den bedingungslosen Raum. Die Hand am Regler ist die Aufmerksamkeit, die beide ohne Urteil h√§lt.",
      conceptSummary: "Konzept & Credits",
      conceptText: "Bild-Dialog nach deinem Text ‚ÄûKein Konstrukt‚Äú. Gestaltung: Diptychon mit Slider & Auto-Atmung. Technik: Vanilla JS, keine externen Libraries.",
      beiblattTitle: "üé® K√ºnstlerischer Einklang: Die Mauer und der Friede",
      langNote: "Ausf√ºhrliche Beschreibung derzeit auf Deutsch."
    },
    en: {
      brand: "JTS",
      headerTitle: "resonance diptych",
      title: "Resonance Diptych",
      subtitle: "Sky (wholeness) & wall (condensation) ‚Äì a silent conversation.",
      langLabel: "Language",
      sliderLabel: "Blend",
      autoLabel: "Auto-breath",
      sliderHint: "Left: sky ‚Äì Right: wall",
      quote: "‚ÄúThe peace that surpasses all understanding is insubstantial and whole. Only language creates separation ‚Äî for no one.‚Äù",
      small: "Reading: the wall shows the condensed world of concepts; the sky shows unconditional space. The hand on the slider is attention, holding both without judgement.",
      conceptSummary: "Concept & credits",
      conceptText: "Image dialogue inspired by your text ‚ÄúNo construct‚Äù. Design: diptych with slider & auto-breath. Tech: vanilla JS, no external libraries.",
      beiblattTitle: "üé® Artistic consonance: the wall and the peace",
      langNote: "Detailed explanation currently available in German only."
    },
    fr: {
      brand: "JTS",
      headerTitle: "diptyque de r√©sonance",
      title: "Diptyque de r√©sonance",
      subtitle: "Ciel (totalit√©) & mur (condensation) ‚Äì un dialogue silencieux.",
      langLabel: "Langue",
      sliderLabel: "Fondu",
      autoLabel: "Respiration auto",
      sliderHint: "Gauche : ciel ‚Äì Droite : mur",
      quote: "¬´ La paix qui d√©passe toute compr√©hension est insubstantielle et enti√®re. Seul le langage cr√©e la s√©paration ‚Äî pour personne. ¬ª",
      small: "Lecture : le mur montre le monde condens√© des concepts ; le ciel montre l‚Äôespace inconditionnel. La main sur le curseur est l‚Äôattention qui tient les deux sans jugement.",
      conceptSummary: "Concept & cr√©dits",
      conceptText: "Dialogue d‚Äôimages inspir√© de ton texte ¬´ Aucun construit ¬ª. Conception : diptyque avec curseur & respiration automatique. Technique : JS vanilla, sans biblioth√®ques externes.",
      beiblattTitle: "üé® Accord artistique : le mur et la paix",
      langNote: "L‚Äôexplication d√©taill√©e est actuellement disponible uniquement en allemand."
    }
  };

  const $ = sel => document.querySelector(sel);

  const el = {
    headerTitle: $('#headerTitle'),
    chip: $('#chipHome'),
    langLabel: $('#langLabel'),
    select: $('#lang'),
    pageTitle: $('#pageTitle'),
    subtitle: $('#subtitle'),
    sliderLabel: $('#sliderLabel'),
    autoLabel: $('#autoLabel'),
    sliderHint: $('#sliderHint'),
    quoteLine: $('#quoteLine'),
    smallLine: $('#smallLine'),
    summaryConcept: $('#summaryConcept'),
    summaryText: $('#summaryText'),
    beiblattTitle: $('#beiblattTitle'),
    langNote: $('#langNote')
  };

  function getStoredLang(){
    try{
      return window.localStorage.getItem('jts-i18n-lang');
    }catch(e){
      return null;
    }
  }
  function storeLang(lang){
    try{
      window.localStorage.setItem('jts-i18n-lang', lang);
    }catch(e){}
  }
  function getNavigatorLang(){
    try{
      return (navigator.language || 'de').slice(0,2);
    }catch(e){
      return 'de';
    }
  }

  function render(lang){
    const t = T[lang] || T.de;
    document.documentElement.lang = lang;
    document.title = t.title + " ‚Äì justthisspace";

    if (!el.pageTitle) return;

    el.headerTitle.textContent = t.headerTitle;
    el.chip.textContent = t.brand;
    el.langLabel.textContent = t.langLabel;
    el.pageTitle.textContent = t.title;
    el.subtitle.textContent = t.subtitle;
    el.sliderLabel.textContent = t.sliderLabel;
    el.autoLabel.textContent = t.autoLabel;
    el.sliderHint.textContent = t.sliderHint;
    el.quoteLine.textContent = t.quote;
    el.smallLine.textContent = t.small;
    el.summaryConcept.textContent = t.conceptSummary;
    el.summaryText.textContent = t.conceptText;
    el.beiblattTitle.textContent = t.beiblattTitle;
    el.langNote.textContent = t.langNote;

    storeLang(lang);
  }

  (function initI18N(){
    if (!el.select) return;
    const supported = ['de','en','fr'];
    const stored = getStoredLang();
    const nav = getNavigatorLang();
    const candidate = stored || nav || 'de';
    const initial = supported.includes(candidate) ? candidate : 'de';
    el.select.value = initial;
    render(initial);
    el.select.addEventListener('change', e => render(e.target.value));
  })();
</script>

</body>
</html>
